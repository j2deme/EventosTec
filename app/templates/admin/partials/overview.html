<!-- app/templates/admin/partials/overview.html -->
<div>
  <!-- Quick Actions -->
  <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
    <!-- Upcoming Events -->
    <div class="bg-white rounded-lg shadow">
      <div class="p-4 border-b">
        <h3 class="font-medium text-gray-900">Próximos Eventos</h3>
      </div>
      <div class="p-4">
        <div class="space-y-3">
          <template x-for="event in upcomingEvents.slice(0, 3)" :key="event.id">
            <div class="flex items-center p-3 bg-gray-50 rounded-lg">
              <div
                class="flex-shrink-0 w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center"
              >
                <i class="ti ti-calendar-event text-indigo-600"></i>
              </div>
              <div class="ml-4 flex-1">
                <p
                  class="text-sm font-medium text-gray-900"
                  x-text="event.name"
                ></p>
                <p
                  class="text-xs text-gray-500"
                  x-text="`${event.start_date_formatted || (window.dateHelpers && window.dateHelpers.formatDateTime ? window.dateHelpers.formatDateTime(event.start_date) : formatDateTime(event.start_date))} - ${event.end_date_formatted || (window.dateHelpers && window.dateHelpers.formatDateTime ? window.dateHelpers.formatDateTime(event.end_date) : formatDateTime(event.end_date))}`"
                ></p>
              </div>
              <button
                @click="editEvent(event.id)"
                class="text-indigo-600 hover:text-indigo-900"
              >
                <i class="ti ti-edit"></i>
              </button>
            </div>
          </template>
          <div
            x-show="upcomingEvents.length === 0"
            class="text-center py-4 text-gray-500"
          >
            <i class="ti ti-calendar-x text-2xl mb-2"></i>
            <p>No hay eventos próximos</p>
          </div>
          <div class="pt-2">
            <button
              @click="setActiveTab('events')"
              class="w-full text-center text-sm text-indigo-600 hover:text-indigo-800 font-medium"
            >
              Ver todos los eventos
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Recent Activities -->
    <div class="bg-white rounded-lg shadow">
      <div class="p-4 border-b">
        <h3 class="font-medium text-gray-900">Actividades Recientes</h3>
      </div>
      <div class="p-4">
        <div class="space-y-3">
          <template
            x-for="activity in recentActivities.slice(0, 3)"
            :key="activity.id"
          >
            <div class="flex items-center p-3 bg-gray-50 rounded-lg">
              <div
                class="flex-shrink-0 w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center"
              >
                <i class="ti ti-book text-blue-600"></i>
              </div>
              <div class="ml-4 flex-1">
                <p
                  class="text-sm font-medium text-gray-900"
                  x-text="activity.name"
                ></p>
                <p
                  class="text-xs text-gray-500"
                  x-text="activity.activity_type"
                ></p>
              </div>
              <span
                class="text-xs px-2 py-1 bg-blue-100 text-blue-800 rounded-full"
                x-text="`${activity.current_capacity || 0}/${activity.max_capacity || '∞'}`"
              ></span>
            </div>
          </template>
          <div
            x-show="recentActivities.length === 0"
            class="text-center py-4 text-gray-500"
          >
            <i class="ti ti-book-off text-2xl mb-2"></i>
            <p>No hay actividades recientes</p>
          </div>
          <div class="pt-2">
            <button
              @click="setActiveTab('activities')"
              class="w-full text-center text-sm text-indigo-600 hover:text-indigo-800 font-medium"
            >
              Ver todas las actividades
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
